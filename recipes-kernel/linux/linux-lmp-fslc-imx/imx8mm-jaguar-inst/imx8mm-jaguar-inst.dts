// SPDX-License-Identifier: (GPL-2.0 OR MIT)
/*
 * Copyright 2020 NXP
 */

#include "freescale/imx8mm-evkb.dts"
#include <dt-bindings/gpio/gpio.h>
#include <dt-bindings/leds/common.h>

/ {
        model = "i.MX8MM Jaguar INST board";

	// Regulators
	reg_vddext_3v3: regulator-vddext {
		compatible = "regulator-fixed";
		regulator-name = "VDDEXT_3V3";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
	};

	sound-wm8524 {
		status = "disabled";
	};

	sound-wm8524 {
		status = "disabled";
	};

	sound-ak4458 {
		status = "disabled";
	};

	sound-spdif {
		status = "disabled";
	};

	sound-bt-sco {
		status = "okay";
	};
};

&iomuxc {
        pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_hog>;

	// TODO: Break these out better?
	pinctrl_hog: hoggrp {
		fsl,pins = <
			MX8MM_IOMUXC_SD1_DATA4_GPIO2_IO6	0x140  // WL_WAKE_DEV
			MX8MM_IOMUXC_SD1_DATA5_GPIO2_IO7	0x140  // BT_WAKE_DEV
                        MX8MM_IOMUXC_NAND_DATA01_GPIO3_IO7      0x140  // WIFI_PD#
			MX8MM_IOMUXC_NAND_DATA02_GPIO3_IO8	0x140  // BT_WAKE_HOST
                        MX8MM_IOMUXC_NAND_DATA03_GPIO3_IO9      0x140  // BT_RST#
                        MX8MM_IOMUXC_SAI1_RXD7_GPIO4_IO9        0x140  // LED_ENABLE
                        MX8MM_IOMUXC_SAI1_TXFS_GPIO4_IO10       0x140  // CODEC_IRQ#
                        MX8MM_IOMUXC_SPDIF_RX_GPIO5_IO4         0x140  // CODEC_SD#
                        MX8MM_IOMUXC_SD1_STROBE_GPIO2_IO11      0x140  // ZB_RST#
                        MX8MM_IOMUXC_SAI2_RXC_GPIO4_IO22        0x140  // ZB_INT

		>;
	};

        pinctrl_ecspi1: ecspi1grp {
                fsl,pins = <
//			MX8MM_IOMUXC_SAI2_RXC_GPIO4_IO22	0x140  // ZB_INT
			MX8MM_IOMUXC_ECSPI1_SS0_ECSPI1_SS0	0x13
                        MX8MM_IOMUXC_ECSPI1_SCLK_ECSPI1_SCLK	0x13
                        MX8MM_IOMUXC_ECSPI1_MISO_ECSPI1_MISO	0x13
                        MX8MM_IOMUXC_ECSPI1_MOSI_ECSPI1_MOSI	0x13
//			MX8MM_IOMUXC_SD1_STROBE_GPIO2_IO11	0x140 // ZB_RST
                >;
        };

        pinctrl_ecspi2: ecspi2grp {
                fsl,pins = <
                        MX8MM_IOMUXC_ECSPI2_SCLK_ECSPI2_SCLK	0x13
                        MX8MM_IOMUXC_ECSPI2_SS0_ECSPI2_SS0	0x13
                        MX8MM_IOMUXC_ECSPI2_MOSI_ECSPI2_MOSI	0x13
			MX8MM_IOMUXC_ECSPI2_MISO_ECSPI2_MISO	0x13
			MX8MM_IOMUXC_SAI3_RXC_GPIO4_IO29	0x140 // RADAR_IRQ
			MX8MM_IOMUXC_SAI3_RXFS_GPIO4_IO28	0x140 // RADAR_RST
                >;
        };

	pinctrl_pdm: pdmgrp {
		fsl,pins = <
			MX8MM_IOMUXC_SAI1_MCLK_PDM_CLK		0xd6
			MX8MM_IOMUXC_SAI1_RXD0_PDM_DATA0	0xd6
			MX8MM_IOMUXC_SAI1_RXD1_PDM_DATA1	0xd6
			MX8MM_IOMUXC_SAI1_RXD2_PDM_DATA2	0xd6
			MX8MM_IOMUXC_SAI1_RXD3_PDM_DATA3	0xd6
		>;
	};

        pinctrl_sai2: sai2grp {
                fsl,pins = <
                        MX8MM_IOMUXC_SAI2_MCLK_SAI2_MCLK        0xd6
                        MX8MM_IOMUXC_SAI2_TXFS_SAI2_TX_SYNC     0xd6
                        MX8MM_IOMUXC_SAI2_TXC_SAI2_TX_BCLK      0xd6
                        MX8MM_IOMUXC_SAI2_TXD0_SAI2_TX_DATA0    0xd6
                        MX8MM_IOMUXC_SAI2_RXD0_SAI2_RX_DATA0    0xd6
                >;
        };

        pinctrl_sai3: sai3grp {
                fsl,pins = <
                        MX8MM_IOMUXC_SAI3_TXFS_SAI3_TX_SYNC     0xd6
                        MX8MM_IOMUXC_SAI3_TXC_SAI3_TX_BCLK      0xd6
                        MX8MM_IOMUXC_SAI3_MCLK_SAI3_MCLK        0xd6
                        MX8MM_IOMUXC_SAI3_TXD_SAI3_TX_DATA0     0xd6
                        MX8MM_IOMUXC_SPDIF_EXT_CLK_GPIO5_IO5    0xd6 // Audio codec interrupt
                >;
        };

        pinctrl_uart1: uart1grp {
                fsl,pins = <
                        MX8MM_IOMUXC_UART1_RXD_UART1_DCE_RX     0x140
                        MX8MM_IOMUXC_UART1_TXD_UART1_DCE_TX     0x140
                        MX8MM_IOMUXC_UART3_TXD_UART1_DCE_RTS_B  0x140
                        MX8MM_IOMUXC_UART3_RXD_UART1_DCE_CTS_B  0x140
                >;
        };
};

&uart3 {
	status = "disabled";
};

&i2c2 {
//        ptn5110: tcpc@50 {
//                status = "disabled";
//	};

};

&i2c3 {
	ov5640_mipi: ov5640_mipi@3c {
		status = "disabled";
	};

	pca6416: gpio@20 {
		status = "disabled";
	};

        ak4458_1: ak4458@10 {
		status = "disabled";
	};

        ak4458_2: ak4458@12 {
		status = "disabled";
	};

        ak5558: ak5558@13 {
		status = "disabled";
	};

        ak4497: ak4497@11 {
		status = "disabled";
	};

};

&sai1 {
	status = "disabled";
};

&mipi_dsi {
       status = "disabled";
};

&spdif1 {
       status = "disabled";
};

//&pcie0 {
//       status = "disabled";
//};

&flexspi {
	status = "disabled";
};

&usbotg2 {
	dr_mode = "host";
//	hnp-disable;
//	srp-disable;
//	adp-disable;
//	usb-role-switch;
//	disable-over-current;
//	samsung,picophy-pre-emp-curr-control = <3>;
//	samsung,picophy-dc-vol-level-adjust = <7>;
	status = "okay";

//	port {
//		usb1_drd_sw: endpoint {
//			remote-endpoint = <&typec1_dr_sw>;
//		};
//	};
};
