# ZBOSS 019.240 Enhanced Application Configuration
# This file is sourced by systemd services

# ============================================================================
# APPLICATION SELECTION
# ============================================================================
# Choose the Zigbee application to run (uncomment one)

# --- COORDINATOR APPLICATIONS ---
ZB_APP_NAME=simple_gw_zc          # Simple Gateway Coordinator (default)
#ZB_APP_NAME=light_zc             # Light Coordinator
#ZB_APP_NAME=level_control_zc     # Level Control Coordinator
#ZB_APP_NAME=on_off_output_zc     # On/Off Output Coordinator
#ZB_APP_NAME=ota_server_zc        # OTA Server Coordinator
#ZB_APP_NAME=scenes_zc            # Scenes Coordinator
#ZB_APP_NAME=tcso_zc              # Trust Center Swap Out Coordinator
#ZB_APP_NAME=thermostat_zc        # Thermostat Coordinator
#ZB_APP_NAME=multiendpoint_zc     # Multi-endpoint Coordinator
#ZB_APP_NAME=manuf_onoff_output_zc # Manufacturer On/Off Output Coordinator

# --- ROUTER APPLICATIONS ---
#ZB_APP_NAME=custom_cluster_zr    # Custom Cluster Router
#ZB_APP_NAME=on_off_distrib_output_zr # On/Off Distributed Output Router
#ZB_APP_NAME=ota_client_zr        # OTA Client Router
#ZB_APP_NAME=thermostat_zr        # Thermostat Router

# --- END DEVICE APPLICATIONS ---
#ZB_APP_NAME=bulb                 # Dimmable Light Bulb
#ZB_APP_NAME=light_control        # Light Control Switch
#ZB_APP_NAME=level_control_zed_auto_mode # Level Control End Device (Auto)
#ZB_APP_NAME=level_control_zed_compatibility_mode # Level Control End Device (Compat)
#ZB_APP_NAME=level_control_zed_legacy_mode # Level Control End Device (Legacy)
#ZB_APP_NAME=on_off_switch_zed    # On/Off Switch End Device
#ZB_APP_NAME=on_off_distrib_switch_zed # On/Off Distributed Switch End Device
#ZB_APP_NAME=scenes_zed           # Scenes End Device
#ZB_APP_NAME=tcso_zed             # Trust Center Swap Out End Device
#ZB_APP_NAME=multiendpoint_zed    # Multi-endpoint End Device
#ZB_APP_NAME=manuf_onoff_switch_zed # Manufacturer On/Off Switch End Device

# --- ZBOSS 019.240 NEW APPLICATIONS ---
#ZB_APP_NAME=r22_zr               # Zigbee R22 Router
#ZB_APP_NAME=r23_zc               # Zigbee R23 Coordinator (NEW!)
#ZB_APP_NAME=r23_zr               # Zigbee R23 Router (NEW!)
#ZB_APP_NAME=r23_zed              # Zigbee R23 End Device (NEW!)
#ZB_APP_NAME=gp_proxy             # Green Power Proxy (NEW!)

# --- DUAL PAN APPLICATIONS (ZBOSS 019.240) ---
#ZB_APP_NAME=dualpan_zc           # Dual PAN Coordinator (NEW!)
#ZB_APP_NAME=dualpan_zr           # Dual PAN Router (NEW!)
#ZB_APP_NAME=dualpan_zed          # Dual PAN End Device (NEW!)

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
# Perform factory reset on startup (auto-cleared by zb_app.sh)
doFactoryReset=true

# Zigbee channel (11-26, default: 15)
MACSPLIT_CHANNEL=15

# IEEE address (unique 64-bit identifier)
MACSPLIT_IEEE_ADDR="aa:aa:aa:aa:aa:aa:36:15"

# Extended PAN ID (64-bit network identifier)
#ZB_EXTENDED_PAN_ID="aa:aa:aa:aa:aa:aa:aa:aa"

# Network key (128-bit security key) - leave empty for random generation
#ZB_NETWORK_KEY=""

# ============================================================================
# ZBOSS 019.240 ENHANCED NETWORK FEATURES
# ============================================================================
# Network formation timeout (seconds)
ZB_FORMATION_TIMEOUT=30

# Device announcement interval (seconds)
ZB_DEVICE_ANNOUNCE_INTERVAL=10

# Enable network steering
ZB_NETWORK_STEERING=1

# Enable touchlink commissioning
ZB_TOUCHLINK_ENABLE=0

# Green Power support
ZB_GREEN_POWER_ENABLE=0

# ============================================================================
# COMMUNICATION CONFIGURATION
# ============================================================================
# TTY device for SPINEL communication
MACSPLIT_TTY=/tmp/ttyZigbee

# SPINEL interface timeout (milliseconds)
ZB_SPINEL_TIMEOUT=5000

# SPINEL retry count
ZB_SPINEL_RETRY=3

# ============================================================================
# ZBOSS TRACE AND DEBUGGING
# ============================================================================
# Trace level: 0=none, 1=error, 2=warning, 3=info, 4=debug
ZB_TRACE_LEVEL=4

# Trace mask: 0x00000000=none, 0x00000800=release, 0xffffffff=full debug
#ZB_TRACE_MASK=0x00000000 # Production: No zboss trace
ZB_TRACE_MASK=0x00000800 # Release: Basic zboss trace
#ZB_TRACE_MASK=0xffffffff # Development: Full debug zboss trace

# Application output: 0=none, 1=console, 2=file, 3=both
ZB_APP_OUT=2

# TTY debugging: 0=none, 1=raw data, 2=SPINEL interpreted, 3=both
DUMP_TTY=0

# Enable application performance monitoring
ZB_APP_PERF_MON=0

# ============================================================================
# OTA (OVER-THE-AIR) CONFIGURATION
# ============================================================================
# OTA server directory (must contain OTA files)
ZBOSS_OTA_SERVER_DIR=/var/local/zboss/ota-server-files

# OTA client configuration
ZB_OTA_CLIENT_ENABLE=1
ZB_OTA_SERVER_ENABLE=0

# OTA upgrade timeout (seconds)
ZB_OTA_TIMEOUT=300

# OTA block size (bytes)
ZB_OTA_BLOCK_SIZE=64

# ============================================================================
# ZBOSS 019.240 ADVANCED FEATURES
# ============================================================================
# Enable Zigbee R23 features
ZB_R23_ENABLE=1

# Enable Dual PAN support
ZB_DUAL_PAN_ENABLE=0

# Enable BDB (Base Device Behavior) commissioning
ZB_BDB_ENABLE=1

# BDB commissioning timeout (seconds)
ZB_BDB_TIMEOUT=180

# Enable Install Code support
ZB_INSTALL_CODE_ENABLE=0

# Enable Distributed Security
ZB_DISTRIBUTED_SECURITY_ENABLE=0

# ============================================================================
# POWER MANAGEMENT
# ============================================================================
# Sleep mode for end devices (0=disabled, 1=enabled)
ZB_SLEEP_ENABLE=0

# Sleep duration (milliseconds)
ZB_SLEEP_DURATION=5000

# Poll rate for sleeping end devices (milliseconds)
ZB_POLL_RATE=1000

